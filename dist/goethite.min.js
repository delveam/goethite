!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Goethite={})}(this,(function(e){"use strict";function t(e,...t){return e.replace(/\{(\d+)\}/g,((e,r)=>void 0!==t[r]?t[r]:e))}var r,n,s=function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r},i=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class a{constructor(e,t){r.set(this,void 0),n.set(this,void 0),s(this,r,e,"f"),s(this,n,t,"f")}isSome(){return 0==i(this,r,"f")}isNone(){return 1==i(this,r,"f")}expect(e){switch(i(this,r,"f")){case 0:return i(this,n,"f");case 1:throw new TypeError(e)}}unwrap(){switch(i(this,r,"f")){case 0:return i(this,n,"f");case 1:throw new TypeError("Attempted to unwrap 'None' value.")}}unwrapOr(e){switch(i(this,r,"f")){case 0:return i(this,n,"f");case 1:return e}}unwrapOrElse(e){switch(i(this,r,"f")){case 0:return i(this,n,"f");case 1:return e()}}map(e){switch(i(this,r,"f")){case 0:return a.some(e(i(this,n,"f")));case 1:return a.none()}}mapOr(e,t){switch(i(this,r,"f")){case 0:return t(i(this,n,"f"));case 1:return e}}mapOrElse(e,t){switch(i(this,r,"f")){case 0:return t(i(this,n,"f"));case 1:return e()}}andThen(e){switch(i(this,r,"f")){case 0:return e(i(this,n,"f"));case 1:return a.none()}}eq(e){return i(this,r,"f")===i(e,r,"f")&&i(this,n,"f")===i(e,n,"f")}toString(){switch(i(this,r,"f")){case 0:return`Some(${JSON.stringify(i(this,n,"f"))})`;case 1:return"None"}}static some(e){if(null==e)throw new TypeError("An Option cannot contain a 'null' or 'undefiend' value; use 'Option.none()' to represent an empty value instead.");return new a(0,e)}static none(){return new a(1,null)}}r=new WeakMap,n=new WeakMap;var o,c,h=function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r},f=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class u{constructor(e,t){o.set(this,void 0),c.set(this,void 0),h(this,o,e,"f"),h(this,c,t,"f")}isOk(){return 0===f(this,o,"f")}isErr(){return 1===f(this,o,"f")}expect(e){switch(f(this,o,"f")){case 0:return f(this,c,"f");case 1:throw new TypeError(`${e}`)}}expectErr(e){switch(f(this,o,"f")){case 0:throw new TypeError(`${e}`);case 1:return f(this,c,"f")}}unwrap(){switch(f(this,o,"f")){case 0:return f(this,c,"f");case 1:throw new TypeError("Attempted to call `unwrap` on an `Err` value.")}}unwrapErr(){switch(f(this,o,"f")){case 0:throw new TypeError("Attempted to call `unwrapErr` on an `Ok` value.");case 1:return f(this,c,"f")}}unwrapOr(e){switch(f(this,o,"f")){case 0:return f(this,c,"f");case 1:return e}}unwrapOrElse(e){switch(f(this,o,"f")){case 0:return f(this,c,"f");case 1:return e()}}map(e){switch(f(this,o,"f")){case 0:return u.ok(e(f(this,c,"f")));case 1:return u.err(f(this,c,"f"))}}mapOr(e,t){switch(f(this,o,"f")){case 0:return t(f(this,c,"f"));case 1:return e}}mapOrElse(e,t){switch(f(this,o,"f")){case 0:return t(f(this,c,"f"));case 1:return e(f(this,c,"f"))}}andThen(e){switch(f(this,o,"f")){case 0:return e(f(this,c,"f"));case 1:return u.err(f(this,c,"f"))}}eq(e){return f(this,o,"f")===f(e,o,"f")&&f(this,c,"f")===f(e,c,"f")}toString(){switch(f(this,o,"f")){case 0:return`Ok(${JSON.stringify(f(this,c,"f"))})`;case 1:return`Err(${JSON.stringify(f(this,c,"f"))})`}}static ok(e){return new u(0,e)}static err(e){return new u(1,e)}}o=new WeakMap,c=new WeakMap,e.Option=a,e.Result=u,e.assert=function(e,t){if(!e)throw new TypeError(null!=t?t:"Assertion failed.")},e.err=function(e){return u.err(e)},e.format=t,e.none=function(){return a.none()},e.ok=function(e){return u.ok(e)},e.println=function(e,...r){console.log(t(e,...r))},e.some=function(e){return a.some(e)},Object.defineProperty(e,"__esModule",{value:!0})}));
